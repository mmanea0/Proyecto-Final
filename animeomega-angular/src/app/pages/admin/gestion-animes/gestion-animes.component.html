<label class="input input-bordered flex items-center gap-2 max-w-52">
  <input
    type="text"
    class="grow"
    [(ngModel)]="query"
    placeholder="Search for anime"
    (input)="search()"
    />
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 16 16"
      fill="currentColor"
      class="w-4 h-4 opacity-70">
      <path
        fill-rule="evenodd"
        d="M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a 3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z"
        clip-rule="evenodd"
        />
      </svg>
    </label>

    @if (loading) {
      <div class="flex items-center mt-2">
        <p class="mr-2">Buscando</p>
        <span class="loading loading-spinner text-primary"></span>
      </div>
    } @else {
      @if (results && results.length > 0) {
        <div>
          <div class="anime-list">
            @for (anime of results; track anime) {
              <div (click)="selectAnime(anime)">
                <img [src]="anime.coverImage.large" alt="{{ anime.title.romaji }}" />
                <span>{{ anime.title.romaji }}</span>
              </div>
            }
          </div>
        </div>
      }
      @if (results && results.length < 3) {
        <div>
          <p>Busca algo con al menos 3 caracteres</p>
        </div>
      }
    }

